<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8">
    <title>Paypara - Ödeme</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #f5f5f5;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: auto;
        }
        .payment-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            margin-top: 20px;
        }
        .header {
            background-color: #ffffff;
            padding: 15px 0;
            border-radius: 12px 12px 0 0;
            text-align: center;
            overflow: hidden;
        }
        .header img {
            width: 100%;
            max-width: 1200px;
            height: auto;
            object-fit: contain;
        }
        .user-section {
            margin-top: 10px;
            display: flex;
            justify-content: flex-end;
            align-items: center;
            padding-right: 20px;
        }
        .user-section img {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            margin-right: 10px;
        }
        .user-section .dropdown {
            position: relative;
            display: inline-block;
        }
        .user-section .dropbtn {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px 0;
            text-decoration: underline;
            transition: color 0.3s ease;
        }
        .user-section .dropbtn:hover {
            color: #007bff;
        }
        .dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            background-color: #ffffff;
            min-width: 200px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            z-index: 1001;
            padding: 10px 0;
        }
        .dropdown-content a {
            color: #333;
            padding: 12px 20px;
            text-decoration: none;
            display: block;
            font-size: 16px;
            transition: background-color 0.3s ease;
        }
        .dropdown-content a:hover {
            background-color: #f0f2f5;
        }
        .dropdown.active .dropdown-content {
            display: block;
        }
        .welcome-message {
            text-align: center;
            color: #333;
            font-size: 24px;
            margin: 20px 0;
            transition: opacity 0.5s ease;
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
        }
        .payment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .payment-option {
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            text-align: left;
            transition: box-shadow 0.3s ease;
        }
        .payment-option:hover {
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        .payment-option h3 {
            color: #333;
            font-size: 18px;
            margin-bottom: 10px;
        }
        .payment-option p {
            color: #666;
            margin-bottom: 10px;
        }
        .payment-option .price {
            font-size: 24px;
            font-weight: bold;
            color: #000;
            margin-bottom: 10px;
        }
        .payment-option .discount {
            color: #ff0000;
            font-size: 14px;
            margin-bottom: 15px;
        }
        .payment-button {
            background-color: #007bff;
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
        }
        .payment-button:hover {
            background-color: #0056b3;
            transform: scale(1.02);
        }
        .payment-button:active {
            background-color: #004085; /* Tıklanmış hali (Gumroad’a benzer) */
            transform: scale(0.98);
        }
        .pink-payment-button {
            background-color: #ff69b4; /* Pembe buton */
            color: white;
        }
        .pink-payment-button:hover {
            background-color: #ff1493;
        }
        .pink-payment-button:active {
            background-color: #ff00a1; /* Tıklanmış hali (Gumroad’a benzer) */
        }
        .checkout-iframe {
            display: none;
            width: 100%;
            height: 100vh;
            border: none;
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
            background-color: #ffffff;
        }
        .checkout-iframe.active {
            display: block;
        }
    </style>
</head>
<body>
    <div id="welcome" class="welcome-message">Paypara’ya Hoş Geldiniz!</div>
    <div class="payment-container">
        <div class="header">
            <img src="header.png" alt="Paypara Header" />
        </div>
        <div class="user-section">
            <img src="user.png" alt="Kullanıcı Profili" />
            <div class="dropdown">
                <button class="dropbtn" onclick="toggleDropdown()" id="userName"></button>
                <div class="dropdown-content" id="dropdownContent">
                    <a href="profil.html?authenticated=true">Profil</a>
                    <a href="index.html" onclick="logout()"> <span id="logoutUser"></span> hesabından çıkış yap</a>
                </div>
            </div>
        </div>
        <div class="payment-options">
            <div class="payment-option">
                <h3>Paypara Panel</h3>
                <p>Paypara Panel, kullanıcılar arası finansal işlemlerde hız, güvenilirlik ve şeffaflık sunan lider bir platformdur. Dünyanın genelineinde neredeyse tüm bankalar, kripto paralar, Paypara ve PayFix gibi farklı platformlara entegre olan bu sistem sayesinde 7/24 ücretsiz para transferleri yapabilirsiniz.</p>
                <div class="price">$100</div>
                <div class="discount">2 hafta (46% indirimli)</div>
                <button class="payment-button" onclick="showCheckout('https://gumroad.com/checkout?product=pgwuzp&option=7DAX6AFwDY-kMYP8iRrIJw%3D%3D&quantity=1&referrer=https%3A%2F%2Fpaypara-cpu.github.io%2F')">Pay</button>
            </div>
            <div class="payment-option">
                <h3>Paypara Panel</h3>
                <p>Paypara Panel, kullanıcılar arası finansal işlemlerde hız, güvenilirlik ve şeffaflık sunan lider bir platformdur. Dünyanın genelineinde neredeyse tüm bankalar, kripto paralar, Paypara ve PayFix gibi farklı platformlara entegre olan bu sistem sayesinde 7/24 ücretsiz para transferleri yapabilirsiniz.</p>
                <div class="price">$200</div>
                <div class="discount">1 ay (16% indirimli)</div>
                <button class="payment-button pink-payment-button" onclick="showCheckout('https://gumroad.com/checkout?product=pgwuzp&option=JH7pJ6LYPIPCe0_3AB409w%3D%3D&quantity=1&referrer=https%3A%2F%2Fpaypara-cpu.github.io%2F')">Pay</button>
            </div>
            <div class="payment-option">
                <h3>Paypara Panel</h3>
                <p>Paypara Panel, kullanıcılar arası finansal işlemlerde hız, güvenilirlik ve şeffaflık sunan lider bir platformdur. Dünyanın genelineinde neredeyse tüm bankalar, kripto paralar, Paypara ve PayFix gibi farklı platformlara entegre olan bu sistem sayesinde 7/24 ücretsiz para transferleri yapabilirsiniz.</p>
                <div class="price">$1,000</div>
                <div class="discount">Yıllık (62% indirimli)</div>
                <button class="payment-button pink-payment-button" onclick="showCheckout('https://gumroad.com/checkout?product=pgwuzp&option=FlZXdA2_pCOcYh2c3WbsRA%3D%3D&quantity=1&referrer=https%3A%2F%2Fpaypara-cpu.github.io%2F')">Pay</button>
            </div>
        </div>
    </div>
    <div id="checkoutIframe" class="checkout-iframe"></div>

    <script>
        // URL parametresini kontrol et
        const urlParams = new URLSearchParams(window.location.search);
        const isAuthenticated = urlParams.get('authenticated') === 'true';

        // Eğer doğrulanmamışsa, login ekranına yönlendir
        if (!isAuthenticated) {
            window.location.href = 'index.html';
        } else {
            // "Paypara’ya Hoş Geldiniz!" mesajını 1 saniye gösterip kaybolmasını sağla
            setTimeout(function() {
                document.getElementById('welcome').style.opacity = '0';
                setTimeout(function() {
                    document.getElementById('welcome').style.display = 'none';
                }, 500); // Opacity geçişi için 0.5 saniye bekle
            }, 1000); // 1 saniye sonra kaybol
        }

        // Kullanıcı bilgilerini localStorage’dan al
        const currentUser = localStorage.getItem('currentUser') || 'Misafir';
        document.getElementById('userName').textContent = currentUser;
        document.getElementById('welcomeUser').textContent = currentUser;
        document.getElementById('accountUser').textContent = currentUser;
        document.getElementById('logoutUser').textContent = currentUser;

        // Çıkış yap fonksiyonu
        function logout() {
            localStorage.removeItem('isAuthenticated');
            localStorage.removeItem('currentUser');
        }

        // Dropdown’ı tıklama ile aç/kapat
        let dropdownOpen = false;
        function toggleDropdown() {
            dropdownOpen = !dropdownOpen;
            document.querySelector('.dropdown').classList.toggle('active', dropdownOpen);
        }

        // Dışarı tıklandığında dropdown’ı kapat
        document.addEventListener('click', function(event) {
            const dropdown = document.querySelector('.dropdown');
            const dropbtn = document.querySelector('.dropbtn');
            if (!dropdown.contains(event.target) && event.target !== dropbtn) {
                dropdownOpen = false;
                dropdown.classList.remove('active');
            }
        });

        // Checkout iframe’ini göster
        function showCheckout(url) {
            const iframe = document.getElementById('checkoutIframe');
            iframe.src = url;
            iframe.classList.add('active');

            // İframe’i kapatma (örneğin iframe içindeki bir butonla veya dışarı tıklandığında)
            iframe.addEventListener('load', function() {
                // Eğer iframe içeriği kontrol edilemiyorsa, manuel bir kapatma butonu ekleyebiliriz
                const closeButton = document.createElement('button');
                closeButton.textContent = 'Kapat';
                closeButton.style.position = 'absolute';
                closeButton.style.top = '10px';
                closeButton.style.right = '10px';
                closeButton.style.backgroundColor = '#007bff';
                closeButton.style.color = 'white';
                closeButton.style.padding = '8px 16px';
                closeButton.style.border = 'none';
                closeButton.style.borderRadius = '8px';
                closeButton.style.cursor = 'pointer';
                closeButton.addEventListener('click', function() {
                    iframe.classList.remove('active');
                    iframe.src = ''; // İframe’i temizle
                });
                iframe.contentWindow.document.body.appendChild(closeButton);
            }, { once: true });
        }
    </script>
</body>
</html>